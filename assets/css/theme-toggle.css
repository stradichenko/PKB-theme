/* Theme toggle button styling */
:root {
  /* Light mode theme variables are already defined in global/variables.css */
  --theme-bg: #275f85;
  --theme-text: #cad6ff;
  
  /* Theme toggle button colors - light mode */
  --toggle-btn-color: #cad6ff;
  --toggle-btn-bg-hover: rgba(255, 255, 255, 0.15);
  --toggle-btn-outline: #4a90e2;
}

/* Dark Theme - Using CSS variables properly */
[data-theme="dark"] {
  /* Theme colors */
  --theme-bg: #1a202c;
  --theme-text: #e2e8ff;
  
  /* Core Color Palette */
  --color-primary: #e9996b;
  --color-primary-dark: #57d89c;
  --color-secondary: #ff5252;
  --color-text: var(--theme-text);
  --color-dark: #1a2633;
  --color-dark-accent: #6d4170;
  --color-light: #ebefe9;
  --color-white: #f5f5f5;
  --border-color: #3a4755;
  
  /* Border variables */
  --border-radius: 6px;
  --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.3);
  
  /* Layout - Header */
  --header-bg-color: var(--color-dark);
  --header-text-color: var(--color-light);
  --header-logo-color: var(--color-primary);
  --header-logo-hover-color: var(--color-primary-dark);
  --header-nav-link-color: var(--color-light);
  --header-nav-link-hover-bg: var(--color-primary);
  --header-nav-link-hover-color: var(--color-dark);
  --header-shadow: var(--shadow-light);
  
  /* Layout - Footer */
  --footer-bg-color: var(--color-dark);
  --footer-text-color: var(--color-light);
  --footer-border-color: var(--color-dark-accent);
  --footer-link-color: var(--color-primary);
  --footer-link-hover-color: var(--color-primary-dark);
  
  /* Layout - Body */
  --body-bg-color: var(--theme-bg);
  --body-text-color: var(--theme-text);
  
  /* Layout - Main Content */
  --main-bg-color: var(--theme-bg);
  --main-text-color: var(--theme-text);
  
  /* Generic Elements */
  --link-color: var(--color-primary);
  --link-hover-color: var(--color-primary-dark);
  
  /* Component variables */
  --about-profile-bg: var(--theme-bg);
  --about-text-color: var(--theme-text);
  --profile-name-color: var(--color-primary);
  
  --post-card-bg: #223243;
  --post-title-color: var(--color-light);
  --post-meta-color: #a0aec0;
  --post-summary-color: #cbd5e0;
  
  --toc-bg-color: #1e2a38;
  --toc-border-color: var(--border-color);
  --toc-link-color: var(--link-color);
  
  --sidenote-bg-color: #1e2a38;
  --sidenote-border-color: var(--border-color);
  --sidenote-text-color: var(--theme-text);

  --page-item-bg: #1e2a38;
  --page-item-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
  --page-link-color: var(--color-primary);
  --page-link-hover-color: var(--color-primary-dark);
  --page-metadata-color: #a0aec0;
  --page-summary-color: #cbd5e0;
  --tag-link-bg: #2d4a63;
  --tag-link-color: var(--color-light);
  
  --search-bg-color: var(--header-bg-color);
  --search-text-color: var(--header-text-color);
  --search-border-color: var(--border-color);
  --search-placeholder-color: var(--header-text-color);
  --search-icon-color: var(--header-text-color);
  --search-focus-shadow: 0 0 0 0.25rem rgba(233, 153, 107, 0.25);
  
  /* Theme toggle button colors - dark mode */
  --toggle-btn-color: #e9996b;
  --toggle-btn-bg-hover: rgba(233, 153, 107, 0.15);
  --toggle-btn-outline: #e9996b;
}

/* Theme toggle button specific styling */
.theme-toggle {
  position: relative;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: transparent;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin-left: 10px;
  overflow: hidden;
  color: var(--toggle-btn-color); /* Use theme-specific color */
}

.theme-toggle:hover {
  background-color: var(--toggle-btn-bg-hover);
}

.theme-toggle:focus {
  outline: 2px solid var(--toggle-btn-outline);
  outline-offset: 2px;
}

/* Icon styling */
.theme-toggle .toggle-icon {
  display: block;
  color: inherit;
  width: 24px;
  height: 24px;
}

/* Only add transitions during theme changes initiated by user */
.theme-transition .toggle-icon {
  transition: transform 0.3s ease;
}

.theme-transition .theme-toggle .toggle-icon {
  animation: spin 0.5s ease;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Icon display logic - No transitions initially */
.theme-toggle .sun-icon,
.theme-toggle .moon-icon {
  position: absolute;
  stroke: currentColor; /* Inherit color from parent */
}

/* Add transitions only after page load, when ready for user interaction */
.ready-for-interaction .theme-toggle .sun-icon,
.ready-for-interaction .theme-toggle .moon-icon {
  transition: opacity 0.3s ease, transform 0.5s ease;
}

/* Show sun icon when in dark mode (to switch to light) */
.theme-toggle.dark-mode .sun-icon {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

.theme-toggle.dark-mode .moon-icon {
  opacity: 0;
  transform: rotate(100deg) scale(0);
}

/* Show moon icon when in light mode (to switch to dark) */
.theme-toggle:not(.dark-mode) .moon-icon {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

.theme-toggle:not(.dark-mode) .sun-icon {
  opacity: 0;
  transform: rotate(-100deg) scale(0);
}

/* Header social section layout - Fixed positioning */
.header-social {
  display: flex;
  align-items: center;
  margin-left: auto; /* Push to the right side of header */
  gap: 12px; /* Space between elements */
}

.header-social a {
  color: inherit;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Apply base styles using CSS variables */
html, 
body, 
main, 
.content, 
.container, 
article, 
section, 
.layout-container, 
.main-content, 
site-main, 
div[class^="content"] {
  background-color: var(--theme-bg);
  color: var(--theme-text);
}
