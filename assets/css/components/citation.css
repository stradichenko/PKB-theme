/* Citation styles for BibTeX references */

.citation {
  display: block;
  margin-bottom: var(--spacing-md);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  color: var(--text-color-body);
}

/* Citation reference in the main text */
.citation-reference {
  position: relative;
  display: inline;
}

.citation-marker {
  font-size: 0.85em;
  vertical-align: super;
  color: var(--color-primary);
  cursor: pointer;
}

.citation-marker-processed {
  font-weight: var(--font-weight-medium);
}

/* Parenthetical citation styles */
.citation-marker.apa-style,
.citation-marker.chicago-style {
  vertical-align: baseline;
  font-size: var(--font-size-small);
}

/* Minimal styling for citations in sidenotes */
.sidenote .citation,
.references-list .citation {
  display: inline;
  margin: 0;
  padding: 0;
  font-size: inherit;
  line-height: inherit;
}

/* Remove all decorative elements for citations in sidenotes/references */
.sidenote .citation-processed,
.references-list .citation-processed {
  padding: 0;
  border: none;
  background: none;
  border-radius: 0;
}

/* Simple text formatting for citation text in sidenotes */
.sidenote .citation-text,
.references-list .citation-text {
  margin: 0;
  padding: 0;
  text-indent: 0;
}

/* Notes in citations should be subtle */
.sidenote .citation-note,
.references-list .citation-note {
  margin-top: var(--spacing-sm);
  font-style: italic;
  color: var(--text-color-muted);
  border: none;
  padding: 0;
}

/* Links in citations */
.citation a {
  color: var(--color-primary);
  text-decoration: none;
  border-bottom: 1px dotted var(--color-primary);
}

.citation a:hover {
  border-bottom: 1px solid var(--color-primary);
}

/* Citation link in main text */
.citation-link {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px dotted var(--color-primary);
  cursor: pointer;
}

.citation-link:hover {
  border-bottom: 1px solid var(--color-primary);
}

/* Dark mode styles - only essential color changes */
[data-theme="dark"] .citation-marker {
  color: var(--dark-primary, #e9996b);
}

[data-theme="dark"] .citation a {
  color: var(--dark-primary, #e9996b);
  border-bottom-color: var(--dark-primary, #e9996b);
}

[data-theme="dark"] .sidenote .citation-note,
[data-theme="dark"] .references-list .citation-note {
  color: var(--dark-text-secondary, #a7b6c7);
}

/* Responsive adjustments */
@media (max-width: var(--breakpoint-md)) {
  .citation {
    font-size: var(--font-size-small);
  }
}
